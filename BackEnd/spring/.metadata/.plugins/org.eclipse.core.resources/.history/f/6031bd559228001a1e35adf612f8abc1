package com.capgemini.empspringboot.repository;

import org.springframework.data.jpa.repository.JpaRepository;

import com.capgemini.empspringboot.dto.EmployeeBean;

public interface EmployeeRepository extends JpaRepository<EmployeeBean, Integer>{

	public EmployeeBean auth(String email, String password) {
		EmployeeBean bean = repository.findByEmail(email);
		if(encoder.matches(password, bean.getPassword())) {
			return bean;
		}
		throw new EmployeeException("Password not matching");

	}
	
	throw new EmployeeException("Email does not Exist");
}

public boolean register(EmployeeBean bean) {
	bean.setPassword(encoder.encode(bean.getPassword()));
	repository.save(bean);
	return true;
}
}